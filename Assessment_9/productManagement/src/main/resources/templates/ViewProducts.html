<!DOCTYPE html>
<html lang="en">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; font-src 'self' data:;">

<head>
    <meta charset="UTF-8">
    <title>View Products</title>
    <script>
        async function loadProducts() {
            const response = await fetch('/products'); // calls your REST API
            const products = await response.json();

            const tableBody = document.getElementById('product-table-body');
            tableBody.innerHTML = "";

            products.forEach(p => {
                let row = `<tr>
                    <td>${p.productID}</td>
                    <td>${p.productName}</td>
                    <td>${p.productPrice}</td>
                    <td>${p.productCategory}</td>
                </tr>`;
                tableBody.innerHTML += row;
            });
        }

        window.onload = loadProducts;
    </script>
</head>
<body>
    <h1>All Products</h1>

    <table border="1" cellpadding="8">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Price (₹)</th>
                <th>Category</th>
            </tr>
        </thead>
        <tbody id="product-table-body">
            <!-- Products will be loaded here -->
        </tbody>
    </table>

    <br>
    <button onclick="window.location.href='/'">⬅ Back to Home</button>
</body>
</html>
