<!DOCTYPE html>
<html lang="en">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; font-src 'self' data:;">

<head>
    <meta charset="UTF-8">
    <title>Add Product</title>
    <script>
        async function addProduct(event) {
            event.preventDefault();

            const product = {
                productName: document.getElementById("name").value,
                productPrice: document.getElementById("price").value,
                productCategory: document.getElementById("category").value
            };

            await fetch("/products", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(product)
            });

            alert("Product added successfully!");
            window.location.href = "/view-products";
        }
    </script>
</head>
<body>
    <h1>Add New Product</h1>

    <form onsubmit="addProduct(event)">
        <p>
            <label>Name:</label>
            <input type="text" id="name" required>
        </p>
        <p>
            <label>Price (₹):</label>
            <input type="number" id="price" required>
        </p>
        <p>
            <label>Category:</label>
            <input type="text" id="category" required>
        </p>
        <p>
            <button type="submit">Save</button>
        </p>
    </form>

    <button onclick="window.location.href='/'">⬅ Back to Home</button>
</body>
</html>
